# ---- Định danh & Thời gian ----
# Xác định bối cảnh của dữ liệu.
- timeframe_type: (String) Phân loại chu kỳ thời gian ('7 ngày gần nhất', 'tháng này', v.v.). Dùng để xác định kỳ phân tích và kỳ so sánh. **Quan trọng để lấy đúng dòng dữ liệu.**
- timeframe_start: (Date) Ngày bắt đầu chu kỳ phân tích. Hiển thị trên dashboard.
- timeframe_end: (Date) Ngày kết thúc chu kỳ phân tích. Hiển thị trên dashboard.
- retailer_id: (Number) ID định danh gian hàng.
- branch_id: (Number) ID định danh chi nhánh. 


# ---- Chỉ số kinh doanh tổng quan ----
# Cung cấp cái nhìn tổng thể về hiệu suất kinh doanh của toàn bộ cửa hàng (hoặc chi nhánh được chọn) trong kỳ phân tích.
- num_invoice_sell: (Number) Tổng số hóa đơn bán trong kỳ.
- num_invoice_sell_per_day: (Float) Số hóa đơn bán trung bình mỗi ngày trong kỳ.
- total_revenue: (Number) Tổng doanh thu trong kỳ.
- revenue_per_day: (Float) Doanh thu trung bình mỗi ngày trong kỳ.
- total_return_revenue: (Number) Tổng giá trị hàng bị trả lại trong kỳ.
- total_return_revenue_per_day: (Float) Giá trị trả hàng trung bình mỗi ngày trong kỳ.
- net_revenue: (Number) Doanh thu thuần (Doanh thu - Trả hàng) trong kỳ. **Chỉ số cốt lõi.**
- net_revenue_per_day: (Float) Doanh thu thuần trung bình mỗi ngày trong kỳ.
- total_cost: (Number) Tổng giá vốn hàng bán trong kỳ.
- total_cost_per_day: (Float) Giá vốn hàng bán trung bình mỗi ngày trong kỳ.
- gross_profit: (Number) Lợi nhuận gộp (Doanh thu thuần - Giá vốn) trong kỳ. **Chỉ số cốt lõi.**
- gross_profit_per_day: (Float) Lợi nhuận gộp trung bình mỗi ngày trong kỳ.


# ---- Phân tích Top 10 theo Tiêu Chí ----
# Phần này chứa dữ liệu dạng Array, tổng hợp Top 10 theo các đối tượng (Nhóm hàng, Hàng hóa, Nhóm KH, Kênh bán) và theo các tiêu chí (Doanh thu, Trả hàng, Doanh thu thuần, Lợi nhuận gộp, Số hóa đơn).
# !! Quan trọng: Các cột trong cùng một nhóm (ví dụ: Top 10 Nhóm hàng theo Doanh thu) thường tương ứng theo thứ tự index. Cần phân tích chéo các chỉ số liên quan của CÙNG MỘT đối tượng để xác định điểm mạnh/yếu toàn diện.


# --- Tab: Phân tích Doanh thu ---
# Nhóm hàng
- bs_category_rev_name_rev: (Array[String]) Top 10 tên nhóm hàng theo doanh thu.
- bs_group_revenue: (Array[Number]) Giá trị doanh thu tương ứng.
- bs_group_revenue_per_inv: (Array[Number]) Doanh thu trung bình/đơn tương ứng.
# Hàng hóa
- bs_product_rev_name: (Array[String]) Top 10 tên sản phẩm theo doanh thu.
- bs_product_revenue: (Array[Number]) Giá trị doanh thu tương ứng.
- bs_product_revenue_per_inv: (Array[Number]) Doanh thu trung bình/đơn tương ứng.
# Nhóm khách hàng
- grouping_customer_top10_revenue: (Array[String]) Top 10 tên nhóm khách hàng theo doanh thu.
- revenue_group_customer: (Array[Number]) Giá trị doanh thu tương ứng.
- revenue_per_invoice_group_customer: (Array[Number]) Doanh thu trung bình/đơn tương ứng.
# Kênh bán
- bs_channel_rev_name: (Array[String]) Top 10 tên kênh bán theo doanh thu.
- bs_channel_revenue: (Array[Number]) Giá trị doanh thu tương ứng.
- bs_channel_revenue_per_inv: (Array[Number]) Doanh thu trung bình/đơn tương ứng.


# --- Tab: Phân tích Trả hàng ---
# Nhóm hàng
- bs_category_re_name: (Array[String]) Top 10 tên nhóm hàng theo giá trị trả hàng.
- bs_group_re_quantity: (Array[Number]) Số lượng sản phẩm bị trả tương ứng.
- bs_group_re_revenue: (Array[Number]) Giá trị trả hàng tương ứng.
- bs_group_return_percent: (Array[Float]) Tỷ lệ trả hàng (%) tương ứng.
# Hàng hóa
- bs_product_re_name: (Array[String]) Top 10 tên sản phẩm theo giá trị trả hàng.
- bs_product_re_quantity: (Array[Number]) Số lượng sản phẩm bị trả tương ứng.
- bs_product_re_revenue: (Array[Number]) Giá trị trả hàng tương ứng.
- bs_product_return_percent: (Array[Float]) Tỷ lệ trả hàng (%) tương ứng.
# Nhóm khách hàng
- grouping_customer_top10_num_return: (Array[String]) Top 10 tên nhóm khách hàng theo giá trị trả hàng. (*Lưu ý: Cột này chứa tên nhóm, nhưng dashboard sắp xếp theo giá trị trả*).
- num_return_group_customer: (Array[Number]) Số lượng đơn/sản phẩm bị trả tương ứng.
- return_value_group_customer: (Array[Number]) Giá trị trả hàng tương ứng. **Dùng để sắp xếp.**
- return_rate_group_customer: (Array[Float]) Tỷ lệ trả hàng (%) tương ứng.
# Kênh bán
- bs_channel_re_name: (Array[String]) Top 10 tên kênh bán theo giá trị trả hàng.
- bs_channel_re_quantity: (Array[Number]) Số lượng sản phẩm bị trả tương ứng.
- bs_channel_re_revenue: (Array[Number]) Giá trị trả hàng tương ứng.
- bs_channel_return_percent: (Array[Float]) Tỷ lệ trả hàng (%) tương ứng.


# --- Tab: Phân tích Doanh thu thuần ---
# Nhóm hàng
- bs_group_net_rev_name: (Array[String]) Top 10 tên nhóm hàng theo doanh thu thuần.
- bs_group_net_revenue: (Array[Number]) Giá trị doanh thu thuần tương ứng.
- bs_group_net_revenue_per_invoice: (Array[Number]) Doanh thu thuần trung bình/đơn tương ứng.
# Hàng hóa
- bs_product_net_rev_name: (Array[String]) Top 10 tên sản phẩm theo doanh thu thuần.
- bs_product_net_revenue: (Array[Number]) Giá trị doanh thu thuần tương ứng.
- bs_product_net_revenue_per_invoice: (Array[Number]) Doanh thu thuần trung bình/đơn tương ứng.
# Nhóm khách hàng
- grouping_customer_top10_net_revenue: (Array[String]) Top 10 tên nhóm khách hàng theo doanh thu thuần.
- net_revenue_group_customer: (Array[Number]) Giá trị doanh thu thuần tương ứng.
- net_revenue_per_invoice_group_customer: (Array[Number]) Doanh thu thuần trung bình/đơn tương ứng.
# Kênh bán
- bs_channel_net_rev_name: (Array[String]) Top 10 tên kênh bán theo doanh thu thuần.
- bs_channel_net_revenue: (Array[Number]) Giá trị doanh thu thuần tương ứng.
- bs_channel_net_revenue_per_invoice: (Array[Number]) Doanh thu thuần trung bình/đơn tương ứng.


# --- Tab: Phân tích Lợi nhuận gộp ---
# Nhóm hàng
- bs_group_profit_name: (Array[String]) Top 10 tên nhóm hàng theo lợi nhuận gộp.
- bs_group_profit: (Array[Number]) Giá trị lợi nhuận gộp tương ứng.
- bs_group_profit_per_invoice: (Array[Number]) Lợi nhuận gộp trung bình/đơn tương ứng.
- bs_group_profit_margin: (Array[Float]) Tỷ suất lợi nhuận gộp (%) tương ứng.
# Hàng hóa
- bs_product_profit_name: (Array[String]) Top 10 tên sản phẩm theo lợi nhuận gộp.
- bs_product_profit: (Array[Number]) Giá trị lợi nhuận gộp tương ứng.
- bs_product_profit_per_invoice: (Array[Number]) Lợi nhuận gộp trung bình/đơn tương ứng.
- bs_product_profit_margin: (Array[Float]) Tỷ suất lợi nhuận gộp (%) tương ứng.
# Nhóm khách hàng
- grouping_customer_top10_profit: (Array[String]) Top 10 tên nhóm khách hàng theo lợi nhuận gộp.
- profit_group_customer: (Array[Number]) Giá trị lợi nhuận gộp tương ứng.
- profit_per_invoice_group_customer: (Array[Number]) Lợi nhuận gộp trung bình/đơn tương ứng.
- profit_margin_group_customer: (Array[Float]) Tỷ suất lợi nhuận gộp (%) tương ứng.
# Kênh bán
- bs_channel_profit_name: (Array[String]) Top 10 tên kênh bán theo lợi nhuận gộp.
- bs_channel_profit: (Array[Number]) Giá trị lợi nhuận gộp tương ứng.
- bs_channel_profit_per_invoice: (Array[Number]) Lợi nhuận gộp trung bình/đơn tương ứng.
- bs_channel_profit_margin: (Array[Float]) Tỷ suất lợi nhuận gộp (%) tương ứng.


# --- Tab: Phân tích Số hóa đơn ---
# Nhóm hàng
- bs_group_inv_name: (Array[String]) Top 10 tên nhóm hàng theo số hóa đơn.
- bs_group_nob_inv: (Array[Number]) Số lượng hóa đơn tương ứng.
# Hàng hóa
- bs_product_inv_name: (Array[String]) Top 10 tên sản phẩm theo số hóa đơn.
- bs_product_nob_inv: (Array[Number]) Số lượng hóa đơn tương ứng.
# Nhóm khách hàng
- grouping_customer_top10_num_invoice: (Array[String]) Top 10 tên nhóm khách hàng theo số hóa đơn.
- num_invoice_group_customer: (Array[Number]) Số lượng hóa đơn tương ứng.
# Kênh bán
- bs_channel_inv_name: (Array[String]) Top 10 tên kênh bán theo số hóa đơn.
- bs_channel_nob_inv: (Array[Number]) Số lượng hóa đơn tương ứng.